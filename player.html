<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intercontinental Web Radio - Player 2 Anos</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<style>
:root {
  --gold:#FFD700; --gold-glow:rgba(255,215,0,0.6);
  --red-glow:rgba(255,0,0,0.7); --blue-glow:rgba(0,150,255,0.7);
}
body {margin:0; padding:0; background: radial-gradient(circle at center,#0a0a20 0%,#000 100%);
font-family:'Orbitron',sans-serif; color:white; overflow-x:hidden;}
.energy-conduit {position:fixed;top:0;width:14px;height:100%; background:linear-gradient(to bottom,transparent,var(--gold),#B8860B,var(--gold),transparent); box-shadow:0 0 35px var(--gold); z-index:1000;}
.energy-pulse {position:absolute;width:100%;height:300px; background:linear-gradient(to bottom,transparent,white,transparent); filter:blur(15px); animation:energy-slide 4s infinite linear;}
@keyframes energy-slide {0%{top:-300px;}100%{top:100%;}}
.floating {animation: float 8s ease-in-out infinite;}
@keyframes float {0%,100%{transform:translateY(0);}50%{transform:translateY(-25px);}}
.glow-text {text-shadow:0 0 15px var(--gold),0 0 30px var(--gold-glow);}
.custom-scroll::-webkit-scrollbar {width:8px;}
.custom-scroll::-webkit-scrollbar-track {background: rgba(0,0,0,0.95);}
.custom-scroll::-webkit-scrollbar-thumb {background: var(--gold);border-radius:10px;border:2px solid #000;}
.lcd-scanline {background: repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0,0,0,0.3) 1px, rgba(0,0,0,0.3) 2px); position:absolute; inset:0; z-index:10; pointer-events:none;}
button:focus{outline:none;}
</style>
</head>
<body>
<div class="energy-conduit left-0"><div class="energy-pulse"></div></div>
<div class="energy-conduit right-0"><div class="energy-pulse" style="animation-delay:2s"></div></div>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;
const STREAM_URL="https://stream.zeno.fm/wzcgaal0dnltv";

// --- 26 Temas ---
const THEMES=[
{id:'royal',name:'Imperial Dynasty',primary:'#FFD700',glow:'#FFFACD'},
{id:'nebula',name:'Nebula Void',primary:'#8b5cf6',glow:'#c084fc'},
{id:'emerald',name:'Emerald Core',primary:'#10b981',glow:'#34d399'},
{id:'ruby',name:'Ruby Pulsar',primary:'#ef4444',glow:'#f87171'},
{id:'cyan',name:'Cyberspace',primary:'#06b6d4',glow:'#22d3ee'},
{id:'gold',name:'Solaris Gold',primary:'#f59e0b',glow:'#fbbf24'},
{id:'fusion',name:'Cold Fusion',primary:'#22c55e',glow:'#4ade80'},
{id:'magma',name:'Magma Flow',primary:'#dc2626',glow:'#ef4444'},
{id:'indigo',name:'Midnight',primary:'#6366f1',glow:'#818cf8'},
{id:'lime',name:'Acid Rain',primary:'#84cc16',glow:'#a3e635'},
{id:'rose',name:'Petal Dust',primary:'#f43f5e',glow:'#fb7185'},
{id:'teal',name:'Oceanic',primary:'#14b8a6',glow:'#2dd4bf'},
{id:'slate',name:'Monolith',primary:'#64748b',glow:'#94a3b8'},
{id:'obsidian',name:'Black Hole',primary:'#ffffff',glow:'#ffffff'},
{id:'amber',name:'Amber Glow',primary:'#d97706',glow:'#f59e0b'},
{id:'violet',name:'Prism',primary:'#7c3aed',glow:'#a78bfa'},
{id:'frost',name:'Arctic Frost',primary:'#bae6fd',glow:'#e0f2fe'},
{id:'forest',name:'Gaia Breath',primary:'#065f46',glow:'#10b981'},
{id:'stellar',name:'Stellar Wind',primary:'#a855f7',glow:'#d8b4fe'},
{id:'pulse',name:'Blood Pulse',primary:'#991b1b',glow:'#f87171'},
{id:'hacker',name:'Matrix Rain',primary:'#22c55e',glow:'#16a34a'},
{id:'supernova',name:'Nova Burst',primary:'#fbbf24',glow:'#fef3c7'},
{id:'void',name:'Absolute Dark',primary:'#999999',glow:'#ffffff'},
{id:'phantom',name:'Phantom Aura',primary:'#cbd5e1',glow:'#f8fafc'},
{id:'sunset',name:'Horizon Glow',primary:'#f97316',glow:'#fdba74'},
{id:'thermal',name:'Thermal Reactor',primary:'#FFD700',glow:'#FFEA00'},
];

// --- Componente Medidor ---
const AnalogGauge=({label,value,color})=>{
  const rotation=-90+value*180;
  return (
    <div className="flex flex-col items-center gap-2">
      <div className="relative w-28 h-28 md:w-32 md:h-32 rounded-full border-[3px] border-[#FFD700] bg-black shadow-[inset_0_0_35px_#000]">
        {[...Array(11)].map((_,i)=>(
          <div key={i} className="absolute top-0 left-1/2 w-0.5 bg-[#FFD700]/50 origin-bottom"
               style={{ transform:`translateX(-50%) rotate(${-90+i*18}deg)`, height:i%5===0?'8px':'4px'}} />
        ))}
        <div className="absolute bottom-6 left-1/2 -translate-x-1/2 w-5 h-5 rounded-full bg-gradient-to-b from-[#FFD700] to-[#B8860B] z-20 border border-black shadow-[0_0_15px_gold]" />
        <div className="absolute bottom-8 left-1/2 w-1.5 h-16 md:h-20 origin-bottom -translate-x-1/2 transition-transform duration-200 ease-out z-10"
             style={{transform:`translateX(-50%) rotate(${rotation}deg)`, backgroundColor:color, boxShadow:`0 0 20px ${color}`}} />
        <div className="absolute bottom-2 left-1/2 -translate-x-1/2 text-[9px] font-black text-[#FFD700]">
          {Math.round(value*100)}
        </div>
      </div>
      <span className="text-[10px] tracking-widest text-[#FFD700] uppercase font-black">{label}</span>
    </div>
  )
}

// --- LCD Display ---
const LCDDisplay=({theme,eq,isBoosted,isOnline,isPlaying})=>{
  const [time,setTime]=useState(new Date());
  useEffect(()=>{const it=setInterval(()=>setTime(new Date()),1000); return ()=>clearInterval(it);},[]);
  return(
    <div className="relative w-full bg-[#050a02] border-2 border-[#FFD700]/40 p-4 rounded-2xl shadow-[inset_0_0_30px_#000] overflow-hidden">
      <div className="lcd-scanline"/>
      <div className="flex justify-between items-start relative z-20">
        <div className="flex flex-col">
          <span className="text-[7px] text-[#86efac]/50 uppercase font-black tracking-widest">Interdimensional Link</span>
          <div className="flex items-center gap-1.5">
            <div className={`w-2 h-2 rounded-full ${isOnline?'bg-[#86efac] animate-pulse shadow-[0_0_8px_#86efac]':'bg-red-500 shadow-[0_0_8px_red]'}`}/>
            <span className="text-[11px] text-[#86efac] font-black uppercase tracking-wider">{isOnline?'ONLINE':'OFFLINE'}</span>
          </div>
          <span className="text-[9px] text-[#86efac]/80 font-bold mt-1">ENGINE: {isPlaying?'RUNNING':'STANDBY'} | EQ: {eq.toUpperCase()}</span>
          <span className="text-[8px] text-[#FFD700]/80 font-black mt-1">THEME: {theme.name}</span>
        </div>
        <div className="flex flex-col items-end">
          <span className="text-[12px] text-[#86efac] font-black tracking-widest">{time.toLocaleTimeString([], {hour12:false})}</span>
          <div className="flex items-center gap-1 mt-1.5">
            <div className={`w-2 h-2 rounded-full ${isBoosted?'bg-red-500 animate-bounce':'bg-blue-500'}`}/>
            <span className="text-[8px] text-[#86efac]/70 font-black uppercase">{isBoosted?'BOOST ACTIVE':'NOMINAL'}</span>
          </div>
        </div>
      </div>
      <div className="mt-4 h-2 w-full bg-black rounded-full overflow-hidden border border-[#FFD700]/20">
        <div className={`h-full transition-all duration-700 ${isBoosted?'bg-red-600 shadow-[0_0_15px_red]':'bg-[#86efac] shadow-[0_0_10px_#86efac]'}`}
             style={{width:isPlaying?(isBoosted?'100%':'55%'):'5%'}}/>
      </div>
    </div>
  )
}

// --- Energy Core com Analisador de Espectro ---
const EnergyCore=({analyser,theme,isBoosted,isPlaying})=>{
  const canvasRef=useRef(null);
  useEffect(()=>{
    const canvas=canvasRef.current;
    const ctx=canvas.getContext('2d');
    let frame;
    const buffer=new Uint8Array(128);
    const render=()=>{
      const {width,height}=canvas;
      const cx=width/2,cy=height/2;
      if(analyser && isPlaying){analyser.getByteFrequencyData(buffer);}
      else{for(let i=0;i<128;i++) buffer[i]=30+Math.sin(Date.now()*0.003+i*0.1)*15;}
      ctx.clearRect(0,0,width,height);
      const avg=buffer.reduce((a,b)=>a+b)/128;
      const intensity=isPlaying?avg/255:0.1;
      const pulseSize=90+intensity*140;
      const coreColor=isBoosted?'#FF0000':theme.primary;
      const g=ctx.createRadialGradient(cx,cy,0,cx,cy,pulseSize*1.8);
      g.addColorStop(0,coreColor+'CC');
      g.addColorStop(0.6,coreColor+'22');
      g.addColorStop(1,'transparent');
      ctx.fillStyle=g; ctx.beginPath(); ctx.arc(cx,cy,pulseSize*1.8,0,Math.PI*2); ctx.fill();
      ctx.lineWidth=isPlaying?3:1;
      for(let i=0;i<128;i+=2){
        const v=buffer[i]/255;
        const angle=(i/128)*Math.PI*2+(Date.now()*0.0004);
        ctx.strokeStyle=i%4===0?'#FFFFFF':theme.glow;
        ctx.beginPath();
        ctx.moveTo(cx+Math.cos(angle)*pulseSize*0.7,cy+Math.sin(angle)*pulseSize*0.7);
        ctx.lineTo(cx+Math.cos(angle)*(pulseSize+v*(isPlaying?180:20)),cy+Math.sin(angle)*(pulseSize+v*(isPlaying?180:20)));
        ctx.stroke();
      }
      const cg=ctx.createRadialGradient(cx,cy,0,cx,cy,pulseSize*0.85);
      cg.addColorStop(0,'#FFF'); cg.addColorStop(0.4,coreColor); cg.addColorStop(1,'transparent');
      ctx.fillStyle=cg; ctx.beginPath(); ctx.arc(cx,cy,pulseSize*0.85,0,Math.PI*2); ctx.fill();
      frame=requestAnimationFrame(render);
    };
    render(); return ()=>cancelAnimationFrame(frame);
  },[analyser,theme,isBoosted,isPlaying]);
  return <canvas ref={canvasRef} width={600} height={600} className="w-full h-full"/>
}

// --- Componente Principal ---
const App=()=>{
  const [isPlaying,setIsPlaying]=useState(false);
  const [volume,setVolume]=useState(0.8);
  const [activeTheme,setActiveTheme]=useState(THEMES[0]);
  const [eq,setEq]=useState('Flat');
  const [isBoosted,setIsBoosted]=useState(false);
  const [isOnline,setIsOnline]=useState(navigator.onLine);
  const [analyser,setAnalyser]=useState(null);
  const [gauges,setGauges]=useState({hz:0.05,bass:0.05,rpm:0.05});
  const audioRef=useRef(null);
  const audioCtxRef=useRef(null);
  const gainNodeRef=useRef(null);

  useEffect(()=>{
    const handleConn=()=>setIsOnline(navigator.onLine);
    window.addEventListener('online',handleConn);
    window.addEventListener('offline',handleConn);
    return ()=>{window.removeEventListener('online',handleConn);window.removeEventListener('offline',handleConn);}
  },[]);

  const togglePlay=()=>{
    if(!audioCtxRef.current){
      const ctx=new (window.AudioContext||window.webkitAudioContext)();
      const audio=new Audio(STREAM_URL); audio.crossOrigin="anonymous";
      const source=ctx.createMediaElementSource(audio);
      const analyserNode=ctx.createAnalyser(); analyserNode.fftSize=256;
      const gainNode=ctx.createGain();
      source.connect(analyserNode); analyserNode.connect(gainNode); gainNode.connect(ctx.destination);
      audioRef.current=audio; audioCtxRef.current=ctx; gainNodeRef.current=gainNode; setAnalyser(analyserNode);
    }
    if(isPlaying) audioRef.current.pause();
    else {audioCtxRef.current.resume(); audioRef.current.play();}
    setIsPlaying(!isPlaying);
  };

  useEffect(()=>{
    if(gainNodeRef.current){
      gainNodeRef.current.gain.setTargetAtTime(isBoosted?volume*1.5:volume,audioCtxRef.current.currentTime,0.1);
    }
  },[volume,isBoosted]);

  useEffect(()=>{
    let frame;
    const buffer=new Uint8Array(128);
    const loop=()=>{
      if(analyser && isPlaying){
        analyser.getByteFrequencyData(buffer);
        const bass=buffer.slice(0,10).reduce((a,b)=>a+b,0)/10;
        const mid=buffer.slice(40,80).reduce((a,b)=>a+b,0)/40;
        const rpm=buffer.slice(90,110).reduce((a,b)=>a+b,0)/20;
        setGauges({hz:Math.min(1,(mid/255)*(isBoosted?2:1.5)), bass:Math.min(1,(bass/255)*(isBoosted?2.5:1.8)), rpm:Math.min(1,(rpm/255)*(isBoosted?2:1.5))});
      }
      frame=requestAnimationFrame(loop);
    };
    loop(); return ()=>cancelAnimationFrame(frame);
  },[isPlaying,analyser,isBoosted]);

  return(
    <div className="flex flex-col items-center w-full min-h-screen py-10 px-4">

      {/* Header */}
      <header className="pt-28 pb-16 text-center">
        <h1 className="cinzel text-5xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-b from-[#FFD700] via-white to-[#FFD700] drop-shadow-[0_0_40px_gold] leading-tight uppercase">INTERCONTINENTAL</h1>
        <div className="flex items-center justify-center gap-8 mt-6">
          <div className="h-1 w-32 bg-[#FFD700] shadow-[0_0_10px_gold]" />
          <span className="text-2xl font-black text-[#FFD700] tracking-[1em] animate-pulse">2 ANOS DE SUCESSO</span>
          <div className="h-1 w-32 bg-[#FFD700] shadow-[0_0_10px_gold]" />
        </div>
      </header>

      {/* Gauges + Energy Core */}
      <div className="flex flex-col md:flex-row gap-8 items-center w-full max-w-[1200px]">
        <div className="flex flex-col md:flex-row gap-4 justify-center w-full md:w-1/2">
          <AnalogGauge label="RPM" value={gauges.rpm} color="#FFD700"/>
          <AnalogGauge label="BASS" value={gauges.bass} color="#FF4F4F"/>
          <AnalogGauge label="HZ" value={gauges.hz} color="#4FC3FF"/>
        </div>
        <div className="w-full md:w-1/2 h-[350px] md:h-[450px] border border-[#FFD700]/40 rounded-xl overflow-hidden shadow-[0_0_35px_#FFD700]">
          <EnergyCore analyser={analyser} theme={activeTheme} isBoosted={isBoosted} isPlaying={isPlaying}/>
        </div>
      </div>

      {/* LCD Display */}
      <div className="mt-8 w-full max-w-[1200px]">
        <LCDDisplay theme={activeTheme} eq={eq} isBoosted={isBoosted} isOnline={isOnline} isPlaying={isPlaying}/>
      </div>

      {/* Controls */}
      <div className="flex flex-wrap gap-4 justify-center items-center mt-8">

        {/* Play / Pause */}
        <button onClick={togglePlay} className={`px-6 py-3 font-black uppercase rounded-xl shadow-[0_0_25px_gold] text-black ${isPlaying?'bg-green-400':'bg-red-400'} hover:scale-110 transition-transform`}>
          {isPlaying?'Pause':'Play'}
        </button>

        {/* Super Boost */}
        <button onClick={()=>setIsBoosted(!isBoosted)} className={`px-4 py-2 rounded-lg shadow-[0_0_20px_${isBoosted?'red':'#FFD700'}] font-black uppercase ${isBoosted?'bg-red-500 text-black':'bg-yellow-400 text-black'} hover:scale-110 transition-transform`}>Super Boost</button>

        {/* Volume Knob */}
        <input type="range" min="0" max="1" step="0.01" value={volume} onChange={e=>setVolume(parseFloat(e.target.value))}
          className="w-36 h-3 cursor-pointer accent-[#FFD700] rounded-full shadow-[0_0_15px_gold]"/>

        {/* Equalizer Buttons */}
        {['Flat','Classic','Rock','Stadium','Boost','Salon','Dance'].map(e=>(
          <button key={e} onClick={()=>setEq(e)} className={`px-3 py-1 rounded-full text-black font-bold shadow-[0_0_15px_gold] ${eq===e?'bg-[#FFD700]':'bg-[#B8860B]/60'} hover:scale-110 transition-transform`}>{e}</button>
        ))}

        {/* Theme Selector */}
        <select value={activeTheme.id} onChange={e=>setActiveTheme(THEMES.find(t=>t.id===e.target.value))}
          className="px-3 py-1 rounded-full font-black bg-black text-[#FFD700] shadow-[0_0_15px_gold] cursor-pointer">
          {THEMES.map(t=><option key={t.id} value={t.id}>{t.name}</option>)}
        </select>

        {/* Retornar ao portal */}
        <a href="https://www.intercontinentalwebradio.com" className="px-4 py-2 bg-[#FFD700] rounded-xl font-black text-black shadow-[0_0_20px_gold] hover:scale-110 transition-transform">Portal</a>
      </div>
    </div>
  );
};

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
